<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProjectDock</title>
    <meta name="description" content="Modern project management and showcase platform for storing and organizing project information">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/svg+xml" href="projx-logo.svg">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="nav-logo" id="nav-logo">
                    <svg class="dock-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Dock Platform Base -->
                        <rect class="dock-base" x="2" y="20" width="28" height="10" rx="2" fill="url(#dockGradient)"/>
                        <!-- Project Box 1 -->
                        <rect class="project-box box-1" x="6" y="12" width="6" height="6" rx="1" fill="url(#boxGradient1)"/>
                        <!-- Project Box 2 -->
                        <rect class="project-box box-2" x="13" y="10" width="6" height="6" rx="1" fill="url(#boxGradient2)"/>
                        <!-- Project Box 3 -->
                        <rect class="project-box box-3" x="20" y="14" width="6" height="6" rx="1" fill="url(#boxGradient3)"/>
                        <!-- Dock Support Pillars -->
                        <rect x="4" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <rect x="12" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <rect x="20" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <rect x="26" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <!-- Gradients -->
                        <defs>
                            <linearGradient id="dockGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="boxGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="boxGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="boxGradient3" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                    </svg>
                </span>
                <span class="nav-brand-text">ProjectDock</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link active">Home</a></li>
                <li><a href="projects.html" class="nav-link">Projects</a></li>
                <li><a href="add-project.html" class="nav-link">Add Project</a></li>
                <li><a href="categories.html" class="nav-link">Categories</a></li>
                <li><a href="dashboard.html" class="nav-link">Dashboard</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
            <button class="theme-toggle" aria-label="Toggle theme">
                <span>ðŸŒ™</span>
            </button>
            <button class="hamburger" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <!-- Animated Background Image -->
        <div class="hero-bg-image"></div>
        <!-- Gradient Overlay -->
        <div class="hero-overlay"></div>
        <!-- Floating Shapes -->
        <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
            <div class="shape shape-5"></div>
        </div>
        <!-- Hero Content -->
        <div class="hero-content">
            <h1 class="hero-title" id="typing-title">Organize, Showcase, and Track Your Projects</h1>
            <p class="hero-subtitle">The modern platform for managing your creative work and building your portfolio</p>
            <div class="hero-buttons">
                <a href="projects.html" class="btn btn-primary"><span>Explore Projects</span></a>
                <a href="add-project.html" class="btn btn-primary"><span>Add New Project</span></a>
            </div>
        </div>
    </section>

    <!-- Statistics Section -->
    <section class="container" style="padding: 4rem 1.5rem;">
        <div class="stats-container">
            <div class="stat-card fade-on-scroll">
                <div class="stat-number" data-target="0" id="total-projects">0</div>
                <div class="stat-label">Total Projects</div>
            </div>
            <div class="stat-card fade-on-scroll">
                <div class="stat-number" data-target="0" id="total-categories">0</div>
                <div class="stat-label">Categories</div>
            </div>
            <div class="stat-card fade-on-scroll">
                <div class="stat-number" data-target="0" id="completed-projects">0</div>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat-card fade-on-scroll">
                <div class="stat-number" data-target="0" id="in-progress">0</div>
                <div class="stat-label">In Progress</div>
            </div>
        </div>
    </section>

    <!-- Featured Projects Section -->
    <section class="container" style="padding: 4rem 1.5rem;">
        <div class="text-center mb-xl">
            <h2 class="section-title fade-on-scroll">Featured Projects</h2>
            <p class="section-description fade-on-scroll" style="max-width: 600px; margin: 1rem auto;">Discover some of our most impressive projects</p>
        </div>
        <div class="grid grid-3" id="featured-projects">
            <!-- Projects will be loaded dynamically -->
            <div class="skeleton-card" style="display: none;">
                <div class="skeleton skeleton-image"></div>
                <div class="skeleton skeleton-title"></div>
                <div class="skeleton skeleton-text"></div>
                <div class="skeleton skeleton-text" style="width: 60%;"></div>
            </div>
        </div>
        <div class="text-center mt-lg">
            <a href="projects.html" class="btn btn-primary">View All Projects</a>
        </div>
    </section>

    <!-- Features Section -->
    <section style="background: var(--bg-secondary); padding: 4rem 0;">
        <div class="container">
            <div class="text-center mb-xl">
                <h2 class="section-title fade-on-scroll">Why Choose ProjectDock?</h2>
            </div>
            <div class="grid grid-4">
                <div class="card fade-on-scroll">
                    <div style="font-size: 3rem; margin-bottom: 1rem; text-align: center;">ðŸ“Š</div>
                    <h3 style="text-align: center; margin-bottom: 1rem;">Organize</h3>
                    <p style="text-align: center; color: var(--text-secondary);">Keep all your projects in one place with powerful organization tools</p>
                </div>
                <div class="card fade-on-scroll">
                    <div style="font-size: 3rem; margin-bottom: 1rem; text-align: center;">ðŸŽ¨</div>
                    <h3 style="text-align: center; margin-bottom: 1rem;">Showcase</h3>
                    <p style="text-align: center; color: var(--text-secondary);">Create beautiful portfolios to showcase your work to the world</p>
                </div>
                <div class="card fade-on-scroll">
                    <div style="font-size: 3rem; margin-bottom: 1rem; text-align: center;">ðŸ“ˆ</div>
                    <h3 style="text-align: center; margin-bottom: 1rem;">Track</h3>
                    <p style="text-align: center; color: var(--text-secondary);">Monitor your progress and stay on top of your project timeline</p>
                </div>
                <div class="card fade-on-scroll">
                    <div style="font-size: 3rem; margin-bottom: 1rem; text-align: center;">ðŸš€</div>
                    <h3 style="text-align: center; margin-bottom: 1rem;">Grow</h3>
                    <p style="text-align: center; color: var(--text-secondary);">Build your professional portfolio and advance your career</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>ProjectDock</h4>
                    <p>Organize, showcase, and track your projects with ease. Build your professional portfolio today.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="projects.html">Projects</a></li>
                        <li><a href="add-project.html">Add Project</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="categories.html">Categories</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ProjectDock. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/app.js"></script>
    <script>
        // Load statistics
        document.addEventListener('DOMContentLoaded', () => {
            // Check if ProjectDock is loaded
            if (typeof ProjectDock === 'undefined' || !ProjectDock.ProjectStorage) {
                console.error('ProjectDock is not loaded. Check if js/app.js is loaded correctly.');
                return;
            }
            
            let projects = ProjectDock.ProjectStorage.getProjects();
            if (!Array.isArray(projects)) {
                console.error('Projects data is not an array:', projects);
                projects = [];
            }
            console.log('Loaded projects for homepage:', projects.length, projects);
            const categories = [...new Set(projects.map(p => p.category).filter(c => c))];
            const completed = projects.filter(p => p.status === 'Completed').length;
            const inProgress = projects.filter(p => p.status === 'In Progress').length;

            // Update counter targets
            document.getElementById('total-projects').setAttribute('data-target', projects.length);
            document.getElementById('total-categories').setAttribute('data-target', categories.length);
            document.getElementById('completed-projects').setAttribute('data-target', completed);
            document.getElementById('in-progress').setAttribute('data-target', inProgress);

            // Initialize counter animations AFTER setting data-target
            ProjectDock.Counter.init();

            // Load featured projects
            const featuredContainer = document.getElementById('featured-projects');
            const featuredProjects = projects.slice(0, 3);

            if (featuredProjects.length === 0) {
                featuredContainer.innerHTML = `
                    <div class="card" style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                        <p style="font-size: 1.2rem; color: var(--text-secondary);">
                            No projects yet. <a href="add-project.html" style="color: var(--accent-color);">Create your first project!</a>
                        </p>
                    </div>
                `;
            } else {
                // Clear container first
                featuredContainer.innerHTML = '';
                
                featuredProjects.forEach(project => {
                    // Check if thumbnail exists and is valid
                    let thumbnailSrc = `https://via.placeholder.com/400x200?text=${encodeURIComponent(project.name)}`;
                    if (project.thumbnail && typeof project.thumbnail === 'string' && project.thumbnail.trim() && project.thumbnail.length > 0) {
                        thumbnailSrc = project.thumbnail;
                        console.log('Featured project thumbnail:', project.name, 'length:', project.thumbnail.length);
                    }
                    
                    // Create card element
                    const card = document.createElement('div');
                    card.className = 'project-card card fade-on-scroll';
                    card.style.cursor = 'pointer';
                    card.onclick = () => {
                        window.location.href = `project-detail.html?id=${project.id}`;
                    };
                    
                    // Create image element
                    const img = document.createElement('img');
                    img.alt = project.name || 'Project';
                    img.className = 'project-card-image';
                    img.style.cssText = 'display: block !important; width: 100%; height: 200px; min-height: 200px; object-fit: cover; background-color: var(--bg-secondary); visibility: visible !important; opacity: 1 !important;';
                    img.loading = 'lazy';
                    
                    // Validate base64 data URL before setting
                    if (thumbnailSrc.startsWith('data:image')) {
                        // Verify it's a complete base64 string
                        const base64Match = thumbnailSrc.match(/^data:image\/(\w+);base64,(.+)$/);
                        if (base64Match && base64Match[2] && base64Match[2].length > 100) {
                            console.log('Featured project: Valid base64 image, length:', base64Match[2].length);
                            img.src = thumbnailSrc;
                        } else {
                            console.warn('Featured project: Invalid or incomplete base64, using placeholder');
                            img.src = `https://via.placeholder.com/400x200?text=${encodeURIComponent(project.name)}`;
                        }
                    } else {
                        img.src = thumbnailSrc;
                    }
                    
                    img.onload = function() {
                        console.log('Featured project image loaded successfully:', project.name);
                    };
                    
                    img.onerror = function() {
                        console.error('Featured project image load error:', project.name, 'src length:', thumbnailSrc.length);
                        console.error('First 100 chars of src:', thumbnailSrc.substring(0, 100));
                        this.src = 'https://via.placeholder.com/400x200?text=Project';
                    };
                    
                    card.appendChild(img);
                    
                    // Create category badge
                    const category = document.createElement('div');
                    category.className = 'project-card-category';
                    category.textContent = project.category || 'Uncategorized';
                    card.appendChild(category);
                    
                    // Create title
                    const title = document.createElement('h3');
                    title.className = 'project-card-title';
                    title.textContent = project.name || 'Untitled Project';
                    card.appendChild(title);
                    
                    // Create developer name if available
                    if (project.developerName) {
                        const developer = document.createElement('p');
                        developer.style.cssText = 'color: var(--text-light); margin: 0.25rem 0; font-size: 0.85rem; font-style: italic;';
                        developer.textContent = `by ${project.developerName}`;
                        card.appendChild(developer);
                    }
                    
                    // Create date
                    const date = document.createElement('p');
                    date.className = 'project-card-date';
                    date.textContent = project.createdAt ? new Date(project.createdAt).toLocaleDateString() : 'No date';
                    card.appendChild(date);
                    
                    // Append to container
                    featuredContainer.appendChild(card);
                });
                
                // Re-initialize scroll animations after a short delay
                setTimeout(() => {
                    if (ProjectDock && ProjectDock.ScrollAnimations) {
                        ProjectDock.ScrollAnimations.init();
                    }
                }, 100);
            }

            // Typing animation for hero title
            const titleElement = document.getElementById('typing-title');
            if (titleElement) {
                const titleText = titleElement.textContent;
                ProjectDock.TypingAnimation.animate(titleElement, titleText, 50);
            }
        });
    </script>
</body>
</html>




