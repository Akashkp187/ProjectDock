<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categories - ProjectDock</title>
    <meta name="description" content="Browse projects by category">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="nav-logo" id="nav-logo">
                    <svg class="dock-icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect class="dock-base" x="2" y="20" width="28" height="10" rx="2" fill="url(#dockGradient)"/>
                        <rect class="project-box box-1" x="6" y="12" width="6" height="6" rx="1" fill="url(#boxGradient1)"/>
                        <rect class="project-box box-2" x="13" y="10" width="6" height="6" rx="1" fill="url(#boxGradient2)"/>
                        <rect class="project-box box-3" x="20" y="14" width="6" height="6" rx="1" fill="url(#boxGradient3)"/>
                        <rect x="4" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <rect x="12" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <rect x="20" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <rect x="26" y="24" width="2" height="6" fill="url(#dockGradient)"/>
                        <defs>
                            <linearGradient id="dockGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="boxGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="boxGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="boxGradient3" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                    </svg>
                </span>
                <span class="nav-brand-text">ProjectDock</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="projects.html" class="nav-link">Projects</a></li>
                <li><a href="add-project.html" class="nav-link">Add Project</a></li>
                <li><a href="categories.html" class="nav-link active">Categories</a></li>
                <li><a href="dashboard.html" class="nav-link">Dashboard</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
            <button class="theme-toggle" aria-label="Toggle theme">
                <span>üåô</span>
            </button>
            <button class="hamburger" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Page Header -->
    <section style="background: linear-gradient(135deg, var(--primary-gradient-start), var(--primary-gradient-end)); padding: 8rem 1.5rem 4rem; margin-top: 70px;">
        <div class="container">
            <h1 class="text-center" style="color: white; margin-bottom: 1rem;">Project Categories</h1>
            <p class="text-center" style="color: rgba(255,255,255,0.9); max-width: 600px; margin: 0 auto;">Explore projects organized by category</p>
        </div>
    </section>

    <!-- Categories Grid -->
    <section class="container" style="padding: 4rem 1.5rem;">
        <div class="grid grid-3" id="categories-grid">
            <!-- Categories will be loaded here -->
        </div>
    </section>

    <!-- Category Statistics -->
    <section style="background: var(--bg-secondary); padding: 4rem 0;">
        <div class="container">
            <h2 class="text-center mb-xl">Category Statistics</h2>
            <div class="stats-container" id="category-stats">
                <!-- Statistics will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>ProjectDock</h4>
                    <p>Organize, showcase, and track your projects with ease.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="projects.html">Projects</a></li>
                        <li><a href="add-project.html">Add Project</a></li>
                        <li><a href="dashboard.html">Dashboard</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="categories.html">Categories</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ProjectDock. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/app.js"></script>
    <script>
        const categoryConfig = {
            'Web Development': {
                icon: 'üåê',
                color: 'linear-gradient(135deg, #667eea, #764ba2)',
                description: 'Web applications and websites'
            },
            'Mobile Development': {
                icon: 'üì±',
                color: 'linear-gradient(135deg, #f093fb, #f5576c)',
                description: 'Mobile apps for iOS and Android'
            },
            'Design': {
                icon: 'üé®',
                color: 'linear-gradient(135deg, #4facfe, #00f2fe)',
                description: 'UI/UX design and graphics'
            },
            'Data Science': {
                icon: 'üìä',
                color: 'linear-gradient(135deg, #43e97b, #38f9d7)',
                description: 'Data analysis and machine learning'
            },
            'Other': {
                icon: 'üîß',
                color: 'linear-gradient(135deg, #fa709a, #fee140)',
                description: 'Other projects and experiments'
            }
        };

        function loadCategories() {
            let projects = ProjectDock.ProjectStorage.getProjects();
            if (!Array.isArray(projects)) {
                console.error('Projects data is not an array:', projects);
                projects = [];
            }
            const categories = {};
            
            // Count projects by category
            projects.forEach(project => {
                const category = project.category || 'Other';
                if (!categories[category]) {
                    categories[category] = {
                        count: 0,
                        projects: []
                    };
                }
                categories[category].count++;
                categories[category].projects.push(project);
            });

            // Render category cards
            const grid = document.getElementById('categories-grid');
            const categoryEntries = Object.entries(categories).sort((a, b) => b[1].count - a[1].count);

            if (categoryEntries.length === 0) {
                grid.innerHTML = `
                    <div class="card" style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üìÅ</div>
                        <h3 style="margin-bottom: 1rem;">No categories yet</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem;">Create your first project to see categories appear here.</p>
                        <a href="add-project.html" class="btn btn-primary">Add New Project</a>
                    </div>
                `;
                return;
            }

            grid.innerHTML = categoryEntries.map(([categoryName, data]) => {
                const config = categoryConfig[categoryName] || categoryConfig['Other'];
                return `
                    <div class="card category-card fade-on-scroll" 
                         onclick="window.location.href='projects.html?category=${encodeURIComponent(categoryName)}'"
                         style="cursor: pointer; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: 0; left: 0; right: 0; height: 5px; background: ${config.color};"></div>
                        <div style="text-align: center; padding: 2rem 1rem;">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">${config.icon}</div>
                            <h3 style="margin-bottom: 0.5rem;">${categoryName}</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1.5rem; font-size: 0.9rem;">${config.description}</p>
                            <div style="font-size: 2.5rem; font-weight: 700; background: ${config.color}; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                                ${data.count}
                            </div>
                            <div style="color: var(--text-light); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 1px; margin-top: 0.5rem;">
                                Project${data.count !== 1 ? 's' : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            // Render statistics
            renderStatistics(categories);
        }

        function renderStatistics(categories) {
            const statsContainer = document.getElementById('category-stats');
            const totalProjects = Object.values(categories).reduce((sum, cat) => sum + cat.count, 0);
            
            if (totalProjects === 0) {
                statsContainer.innerHTML = '';
                return;
            }

            const categoryEntries = Object.entries(categories).sort((a, b) => b[1].count - a[1].count);
            
            statsContainer.innerHTML = categoryEntries.map(([categoryName, data]) => {
                const percentage = ((data.count / totalProjects) * 100).toFixed(1);
                const config = categoryConfig[categoryName] || categoryConfig['Other'];
                
                return `
                    <div class="stat-card fade-on-scroll">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <span style="font-size: 2rem;">${config.icon}</span>
                                <div>
                                    <div style="font-weight: 600; color: var(--text-primary);">${categoryName}</div>
                                    <div style="font-size: 0.875rem; color: var(--text-light);">${data.count} project${data.count !== 1 ? 's' : ''}</div>
                                </div>
                            </div>
                            <div style="font-size: 1.5rem; font-weight: 700; background: ${config.color}; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                                ${percentage}%
                            </div>
                        </div>
                        <div style="width: 100%; height: 8px; background: var(--border-color); border-radius: var(--radius-sm); overflow: hidden;">
                            <div style="width: ${percentage}%; height: 100%; background: ${config.color}; transition: width 1s ease;"></div>
                        </div>
                    </div>
                `;
            }).join('');

            // Animate progress bars
            setTimeout(() => {
                statsContainer.querySelectorAll('.stat-card').forEach(card => {
                    const bar = card.querySelector('div[style*="width:"]');
                    if (bar) {
                        const width = bar.style.width;
                        bar.style.width = '0%';
                        setTimeout(() => {
                            bar.style.width = width;
                        }, 100);
                    }
                });
            }, 100);
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadCategories();
            ProjectDock.ScrollAnimations.init();
        });
    </script>

    <style>
        .category-card:hover {
            transform: translateY(-10px) scale(1.02);
        }
    </style>
</body>
</html>

